---
title: "Лабораторная работа №8. Программирование цикла. Обработка аргументов командной строки"
author: "Сунь Шэнцзе"
student-id: "1132254527"
date: "2025-11-20"
format:
  pdf:
    documentclass: article
    mainfont: "DejaVu Serif"
    sansfont: "DejaVu Sans"
    monofont: "DejaVu Sans Mono"
    latex-engine: xelatex
    lang: ru
---

**Номер студенческого билета:** 1132254527

## 1. Цель работы
- Приобретение навыков написания программ с использованием циклов
- Освоение обработки аргументов командной строки
- Изучение организации стека и работы с ним
- Освоение инструкций организации циклов (`loop`)
- Изучение принципов работы со стеком (`push`, `pop`)

## 2. Порядок выполнения работы и результаты

### 2.1 Шаг 1: Создание рабочего каталога
![Создание каталога](screenshots/1.png)
*   **Основное:** Успешное создание каталога для лабораторной работы `~/work/arch-pc/lab08` и переход в него, подготовка к выполнению последующих заданий.

### 2.2 Шаг 2: Создание файла Lab8-1.asm
![Создание файла](screenshots/1.png)
*   **Основное:** Создание файла `lab8-1.asm` с использованием команды `touch`, подготовка к написанию первой программы с использованием цикла.

### 2.3 Шаг 3: Написание кода программы с базовым циклом
![Исходный код](screenshots/2.png)
![Исходный код](screenshots/3.png)
*   **Основное:** Ввод в `lab8-1.asm` программы с использованием инструкции `loop`, программа содержит ввод числа N и вывод значений от N до 1.

### 2.4 Шаг 4: Компиляция и запуск первой программы
![Результат первого запуска](screenshots/4.png)
*   **Основное:** Успешная компиляция и запуск программы, вывод показывает последовательность чисел от введенного значения до 1, подтверждает корректную работу инструкции `loop`.

### 2.5 Шаг 5: Модификация программы с изменением ECX в цикле
![Модифицированный код](screenshots/5.png)
![Модифицированный код](screenshots/7.png)
*   **Основное:** Модификация кода программы, добавление инструкции `sub ecx, 1` внутри цикла для демонстрации проблемы двойного декремента.

### 2.6 Шаг 6: Повторная компиляция модифицированной программы
![Результат модифицированного запуска](screenshots/6.png)
![Результат модифицированного запуска](screenshots/8.png)
*   **Основное:** Повторная компиляция и запуск модифицированной программы, вывод показывает некорректное поведение цикла из-за двойного уменьшения ECX.

### 2.7 Шаг 7: Создание файла Lab8-2.asm
![Создание lab8-2](screenshots/10.png)
*   **Основное:** Создание второго файла программы `lab8-2.asm`, подготовка к написанию программы обработки аргументов командной строки.

### 2.8 Шаг 8: Написание программы обработки аргументов
![Код lab8-2](screenshots/9.png)
*   **Основное:** Написание программы с обработкой аргументов командной строки, использование инструкций `pop` для извлечения аргументов из стека.

### 2.9 Шаг 9: Компиляция и запуск lab8-2.asm
![Запуск lab8-2](screenshots/11.png)
*   **Основное:** Успешная компиляция и запуск программы, программа корректно обрабатывает и выводит аргументы командной строки.

### 2.10 Шаг 10: Создание файла Lab8-3.asm
![Создание lab8-3](screenshots/13.png)
*   **Основное:** Создание третьего файла программы `lab8-3.asm` для реализации вычисления суммы аргументов командной строки.

### 2.11 Шаг 11: Написание программы вычисления суммы
![Код lab8-3](screenshots/12.png)
*   **Основное:** Написание программы вычисления суммы числовых аргументов, использование функции `atoi` для преобразования строк в числа.

### 2.12 Шаг 12: Запуск программы вычисления суммы
![Запуск lab8-3](screenshots/13.png)
*   **Основное:** Успешный запуск программы, корректное вычисление и вывод суммы числовых аргументов командной строки.

## Задание 2: Модификация программы для вычисления произведения
![Модифицированный код](screenshots/14.png)
![Модифицированный код](screenshots/15.png)
**Основное:** Модификация программы lab8-3.asm для вычисления произведения аргументов вместо суммы, изменение начального значения и операции.

## 3. Выполнение заданий для самостоятельной работы

### 3.1 Задание 1: Программа вычисления суммы значений функции
![Код программы](screenshots/16.png)
![Код программы](screenshots/17.png)
![Код программы](screenshots/18.png)
*   **Вывод:** Успешное выполнение самостоятельного задания 1, программа способна вычислять сумму значений функции f(x) = 7 + 2x для аргументов командной строки, все функции работают нормально.

## 4. Ответы на вопросы для самопроверки

1. **Опишите работу команды Loop.**  
   Команда `loop` выполняет два последовательных действия: сначала уменьшает значение регистра ECX на 1, затем проверяет, равно ли ECX нулю. Если ECX не равно нулю, выполняется переход к указанной метке, и цикл повторяется. Если ECX равно нулю, управление передается следующей за `loop` инструкции.

2. **Как организовать цикл с помощью команд условных переходов, не прибегая к специальным командам управления циклами?**  
   Цикл можно организовать с помощью комбинации команд `dec` и условного перехода:
   ```nasm
   mov ecx, N
   label:
       ; тело цикла
       dec ecx
       jnz label
   Также можно использовать другие условные переходы в зависимости от требуемой логики цикла.
3. **Дайте определение понятия «стек».**
   Стек — это структура данных, организованная по принципу LIFO (Last In — First Out, 'последним пришел — первым ушел'). Это означает, что последний добавленный в стек элемент будет извлечен из него первым.
4. **Как осуществляется порядок выборки содержащихся в стеке данных?**
   Данные из стека извлекаются в порядке, обратном их добавлению. Последний добавленный элемент (находящийся на вершине стека) извлекается первым, предпоследний добавленный — вторым, и так далее до первого добавленного элемента.
# Выводы

В ходе выполнения лабораторной работы я успешно приобрел следующие навыки:

1. **Применение команды Loop**: Научился использовать инструкцию `loop` для организации циклов, освоил управление счетчиком цикла и корректное завершение циклов.

2. **Работа со стеком**: Освоил использование команд `push` и `pop` для работы со стеком, понял важность сохранения и восстановления значений регистров.

3. **Обработка аргументов командной строки**: Научился извлекать и обрабатывать аргументы, передаваемые через командную строку, используя стек для доступа к ним.

4. **Организация циклов без команды loop**: Освоил альтернативные методы организации циклов с использованием условных переходов и декремента регистров.

5. **Отладка циклических программ**: Научился идентифицировать и исправлять ошибки, связанные с неправильным использованием регистров в циклах.

6. **Преобразование данных**: Освоил преобразование строковых аргументов в числовые значения для математических вычислений в программах.

**Достижение целей работы**: Все цели лабораторной работы достигнуты. Я освоил программирование циклов на языке ассемблера, научился обрабатывать аргументы командной строки и работать со стеком. Выполнение заданий для самостоятельной работы позволило закрепить полученные знания и развить навыки решения практических задач.
   

